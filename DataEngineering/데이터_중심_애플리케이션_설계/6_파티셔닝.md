# 파티셔닝

- 샤딩
    - 데이터를 파티션으로 쪼개는 작업
    - 데이터셋이 매우 크거나 질의 처리량이 높다면 사용
    - 각 파티션은 그 자체로 작은 데이터베이스가 됨. 
    - 파티셔닝의 주된 이유는 확장성
    - 질의 실행시 각 노드에서 자신의 파티션에 해당하는 질의를 실행할수 있으므로, 노드의 추가로 질의 처리량 늘릴 수 있음.
  
- 파티셔닝과 복제
  - 보통 복제와 파티셔닝을 함께 적용해 각 파티션의 복사본을 여러 노드에 저장함
  
- 키-값 데이터 파티셔닝
  - 파티셔닝의 목적은 데이터와 질의 부하를 노드 사이에 고르게 분산 시키는 것
  - skew: 파티셔닝이 고르게 이뤄지지 않은 경우
  - 핫스팟: 불균형하게 부하가 높은 파티션
  - 핫스팟 회피를 위한 단순한 방법: 레코드 할당 노드 무작위 선택
    - 데이터가 노드들 사이에 고르게 분산
    - 해당 레코드가 어느 노드에 저장됐는지 알 수 없어서, 모든 노드에서 병렬적으로 질의 실행해야함.